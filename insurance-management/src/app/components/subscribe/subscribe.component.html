<app-navigation></app-navigation>

<div class="login-container">

  <!-- Form -->
   <br />

  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title>Subscriptions</mat-card-title>
    </mat-card-header>

    <mat-card-content>


      <form *ngIf="registrationConfirmForm" [formGroup]="registrationConfirmForm">

            <div style="text-align: left;" *ngIf="subscriptions.length > 0">
                <u><b style="text-align: left;">Existing subscriptions</b></u>
                <ul>
                    <li *ngFor="let subscription of subscriptions" style="text-align: left;">
                        <strong>{{ subscription.product.name }}</strong> (Subscribed: {{ subscription.subscriptionDate |
                        date: 'MMM d, y, h:mm' }})
                    </li>
                </ul>
                Thank you for your premium subscription. You can now add policies.

                <mat-card-actions>
                  <button mat-raised-button color="primary" (click)="addPolicy()">Add Policy</button>
              </mat-card-actions>
            </div>

            <div style="text-align: left;" *ngIf="subscriptions.length == 0">
                <b style="text-align: left;">You don't have any active subscriptions</b>

                <mat-card class="product-card">
                    <mat-card-header>
                        <mat-card-title>{{ product?.name }}</mat-card-title>
                        <mat-card-subtitle>{{ product?.description }}</mat-card-subtitle>
                    </mat-card-header>

                    <mat-card-content>
                        <p><strong>Annual:</strong> R{{ product?.annualCost | number: '1.2-2' }}</p>
                    </mat-card-content>

                    <mat-card-actions>
                        <button mat-raised-button color="primary" (click)="payNow()">Pay Now</button>
                    </mat-card-actions>
                </mat-card>
                <br /><br />
            </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>